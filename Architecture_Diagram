┌──────────────────────┐
│        User          │
│   (Web / API Call)   │
└──────────┬───────────┘
           │
           ▼
┌──────────────────────┐
│      FastAPI         │
│   API Gateway Layer  │
└──────────┬───────────┘
           │
           ▼
┌──────────────────────┐
│  Intent Classifier   │
│ (Traditional ML)     │
│  TF-IDF + Logistic   │
└──────────┬───────────┘
           │
           ▼
┌──────────────────────────────┐
│  Confidence-Based Router     │
│  (Threshold Evaluation)     │
└──────────┬───────────┬──────┘
           │           │
           │           │
           ▼           ▼
┌──────────────────┐  ┌──────────────────────────┐
│ FAQ / Policy     │  │   Knowledge Query         │
│ Structured Logic │  │   (RAG Pipeline)          │
└──────────┬───────┘  └──────────┬───────────────┘
           │                      │
           ▼                      ▼
┌──────────────────┐  ┌──────────────────────────┐
│ Static / DB      │  │ Vector Store (FAISS)     │
│ Responses        │  │ Embeddings Retrieval     │
└──────────┬───────┘  └──────────┬───────────────┘
           │                      │
           ▼                      ▼
      ┌────────────────────────────────────┐
      │     Response Composer / Formatter  │
      └──────────┬─────────────────────────┘
                 │
                 ▼
        ┌──────────────────────────┐
        │      Final Response      │
        └──────────────────────────┘
